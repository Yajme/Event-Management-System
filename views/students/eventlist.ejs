<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>BSU-ECSYS</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="/vendors/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" href="/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="/css/styleStudDashboard.css">
    <!-- End layout styles -->
     <link rel="shortcut icon" href="/images/Batangas_State_Logo.png" />
     <style>
      textarea{
        background: rgb(231, 231, 231);
        width: 100%;
        height: 50px;
        border: none;
        border-radius: 5px;
        padding: 10px;
      }
      .bbutton{
        border: 2px solid rgb(231, 231, 231);
        width: 100%;
        border-radius: 15px;
        font-size: 15px;
        padding: 5px;
      }
      td { white-space:pre-wrap; word-wrap:break-word }
      #e_id{
        background: transparent;
        border: none;
        font-weight: bold;
      }
     </style>
  </head>
  <body>
   



    <div class="container-scroller">
      
        <!--**********************************
            Nav header start
        ***********************************-->
        <%- include('../partials/dashboard-navbar'); %>
        <!--**********************************
              Nav header end
          ***********************************-->
      
      <div class="container-fluid page-body-wrapper">
        
        <!--**********************************
            Sidebar start
        ***********************************-->
        <%- include('../partials/dashboard-sidebar'); %>
        <!--**********************************
            Sidebar end
        ***********************************-->
        
        <div class="main-panel">
          <div class="content-wrapper">
            <div class="page-header">
              <h3 class="page-title"> Basic Tables </h3>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="#">Tables</a></li>
                  <li class="breadcrumb-item active" aria-current="page">Basic tables</li>
                </ol>
              </nav>
            </div>
            
            <div class="row">
      
              <% if(locals.message){if(message.length > 0 ){ %>
                <div class="alert alert-success">
          
                 You are Now Registered to the event!
          
                </div>
          
                <% }} %>
              <div class="col-lg-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Event List</h4>
                    </p>
                    
<table id="example" class="table table-striped table-bordered" cellspacing="0" style='width: 100%;table-layout:fixed;'>
	
    
  <thead>
    
		<tr>
			<th>EventID</th>
			<th>Event Name</th>
			<th>Date</th>
			<th>Organization</th>
			<th>Event Description</th>
			<th>Action</th>

		</tr>
	</thead>
	<tbody>
   
    <% if(data.length){ for(var i = 0; i< data.length; i++) {%>
       
      <input type="text" id="e_id" name="e_id" value="<%= data[i].eventID %>" style="display: none;" readonly>
      <tr><form action="/student/register" method="post" >
        <th scope="row"><input type="text" id="e_id" name="e_id" value="<%= data[i].eventID %>" readonly></th>
        <td style="white-space:pre-wrap; word-wrap:break-word"><%= data[i].eventName%></td>
        <td style="white-space:pre-wrap; word-wrap:break-word"><%= data[i].e_date%></td>
        <td style="white-space:pre-wrap; word-wrap:break-word"><%= data[i].org_Name%></td>
        <td style="white-space:pre-wrap; word-wrap:break-word"><textarea name="" id="" cols="30" rows="10" readonly><%= data[i].eventDesc%></textarea></td>
        <td style="white-space:pre-wrap; word-wrap:break-word"><% if(data[i].sr_code!=stud_id){ %><button class="bbutton" type="submit">Attend</button><% } else{  %> You AlreadyAttended the event! <% }   %></td>
      </form></tr>
      <% } }else{ %>
      <tr>
        <td>No data ever existed.</td>
      </tr>
      <% } %>
    
	</tbody>

</table>

                  </div>
                </div>
              </div>


            </div>
          </div>
          <!-- content-wrapper ends -->
          
          <!--*********************************
            Footer start
          ***********************************-->
          <%- include('../partials/dashboard-footer'); %>
          <!--**********************************
            Footer end
          ***********************************-->
          
        </div>
        <!-- main-panel ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="/js/off-canvas.js"></script>
    <script src="/js/hoverable-collapse.js"></script>
    <script src="/js/misc.js"></script>
          
  <% if(locals.messagepass){if(messagepass.length > 0 ){ %>
    <!-- Option 1: Include in HTML -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <button type="button" style="display: none;" class="btn btn-info btn-lg" id="modalbutton" data-toggle="modal" data-target="#myModal">Open Modal</button>
  <!-- Modal -->
  <script>$(function() {
    $('#modalbutton').click();
});</script>

<style>
  .form-label{
    color: black;
    font-weight: bold;
  }
  
.input-container {
  display: -ms-flexbox; /* IE10 */
  display: flex;
  width: 100%;
  margin-bottom: 15px;
}

.icon {
  padding: 10px;
  background: dodgerblue;
  color: white;
  min-width: 50px;
  height: 45px;
  text-align: center;
  float: right;
  cursor: pointer;
}

.input-field {
  width: 100%;
  padding: 10px;
  outline: none;
}

.input-field:focus {
  border: 2px solid dodgerblue;
}

/* Set a style for the submit button */
.btn {
  background-color: dodgerblue;
  color: white;
  padding: 15px 20px;
  border: none;
  cursor: pointer;
  width: 100%;
  opacity: 0.9;
}

.btn:hover {
  opacity: 1;
}
</style>
  <div class="modal fade" id="myModal" role="dialog" style="position: absolute;">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Old Password</label>
              <div class="input-container">
              <input type="email" id="password" class="form-control" aria-describedby="emailHelp">
              <i class="bi bi-eye-slash icon" id="togglePassword" ></i>
            </div>
            
            <label for="exampleInputEmail1" class="form-label">New Password</label>
            <div class="input-container">
            <input type="email" id="password1" class="form-control"  aria-describedby="emailHelp">
            <i class="bi bi-eye-slash icon" id="togglePassword1" ></i>
          </div>
          
          <label for="exampleInputEmail1" class="form-label">Confirm New Password</label>
          <div class="input-container">
          <input type="email" id="password2" class="form-control"  aria-describedby="emailHelp">
          <i class="bi bi-eye-slash icon" id="togglePassword2" ></i>
        </div>
        
          
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
       
      </div>
      
    </div>
  </div>
  
</div>
<script>
  const togglePassword = document.querySelector("#togglePassword");
  const password = document.querySelector("#password");

  togglePassword.addEventListener("click", function () {
      // toggle the type attribute
      const type = password.getAttribute("type") === "password" ? "text" : "password";
      password.setAttribute("type", type);
      
      // toggle the icon
      this.classList.toggle("bi-eye");
  });

  // prevent form submit
  const form = document.querySelector("form");
  form.addEventListener('submit', function (e) {
      e.preventDefault();
  });

  const togglePassword1 = document.querySelector("#togglePassword1");
  const password1 = document.querySelector("#password1");

  togglePassword1.addEventListener("click", function () {
      // toggle the type attribute
      const type1 = password1.getAttribute("type") === "password" ? "text" : "password";
      password1.setAttribute("type", type);
      
      // toggle the icon
      this.classList.toggle("bi-eye");
  });

 
</script>
  <% }} %>
    <!-- endinject -->
    <!-- Custom js for this page -->
    <!-- End custom js for this page -->
  </body>
</html>